(globalThis["webpackChunkmenu_aggregator"]=globalThis["webpackChunkmenu_aggregator"]||[]).push([[607],{5607:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ne});var a=s(1758),r=s(9104);const n={class:"flex justify-center"},i={key:0},o={class:"flex justify-center"},u={key:0,class:"q-my-lg q-mx-md"},l={class:"q-my-lg q-mx-md"};function c(e,t,s,c,d,A){const h=(0,a.g2)("q-btn-toggle"),g=(0,a.g2)("menu-map"),m=(0,a.g2)("menu-list"),p=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(p,{class:"justify-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(h,{class:"q-ma-md",modelValue:A.selectedRegion,"onUpdate:modelValue":t[0]||(t[0]=e=>A.selectedRegion=e),"toggle-color":"info",options:A.regionChoices},null,8,["modelValue","options"])]),"favourites"!=A.selectedRegion?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",o,[(0,a.bF)(h,{modelValue:A.showMapList,"onUpdate:modelValue":t[1]||(t[1]=e=>A.showMapList=e),rounded:"",unelevated:"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Map",value:"map"},{label:"List",value:"list"}]},null,8,["modelValue"])]),"map"===A.showMapList?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(g)])):(0,a.Q3)("",!0),(0,a.bo)((0,a.Lk)("div",l,[(0,a.bF)(m)],512),[[r.aG,"list"===A.showMapList]])])):((0,a.uX)(),(0,a.Wv)(m,{key:1}))])),_:1})}s(239);const d={class:"justify-center"},A={class:"flex justify-center"};function h(e,t,s,r,n,i){const o=(0,a.g2)("res-entry"),u=(0,a.g2)("q-item-section"),l=(0,a.g2)("q-item"),c=(0,a.g2)("q-list"),h=(0,a.g2)("q-spinner-dots"),g=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",A,[(0,a.bF)(c,{class:"flex-center"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.visibleRestaurants,(e=>((0,a.uX)(),(0,a.Wv)(l,{key:e.identifier},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(o,{restaurantBase:e},null,8,["restaurantBase"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.bF)(g,{showing:n.loading},{default:(0,a.k6)((()=>[(0,a.bF)(h,{color:"primary",size:"2em"})])),_:1},8,["showing"])])])}var g=s(8790);const m={class:"row"},p={key:0,class:"flex justify-center"},f={key:1,class:"justify-center"};function v(e,t,s,r,n,i){const o=(0,a.g2)("q-btn"),u=(0,a.g2)("q-space"),l=(0,a.g2)("q-spinner-dots"),c=(0,a.g2)("q-avatar"),d=(0,a.g2)("q-item"),A=(0,a.g2)("q-list"),h=(0,a.g2)("q-card-section"),v=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",m,[(0,a.bF)(o,{flat:"",dense:"","no-wrap":"","text-color":"info",type:"a",href:s.restaurantBase.homepage.length?s.restaurantBase.homepage:"#","icon-right":s.restaurantBase.homepage.length?"las la-external-link-alt":"",label:s.restaurantBase.name},null,8,["href","icon-right","label"]),(0,a.bF)(u),(0,a.bF)(o,{onClick:t[0]||(t[0]=e=>i.isFavourite=!i.isFavourite),flat:"",dense:"",round:"",color:"white","text-color":"info",icon:i.isFavourite?"las la-heart":"lar la-heart"},null,8,["icon"])]),n.loading?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(l,{color:"info",size:"2em"})])):n.failed?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.bF)(c,{"text-color":"negative",icon:"error"}),(0,a.eW)(" Failed to retrieve data for "+(0,g.v_)(s.restaurantBase.name),1)])):((0,a.uX)(),(0,a.Wv)(A,{key:2},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.restaurantData.menu,(e=>((0,a.uX)(),(0,a.Wv)(d,{key:e["dish"]},{default:(0,a.k6)((()=>[(0,a.eW)((0,g.v_)(e["dish"]),1)])),_:2},1024)))),128))])),_:1}))])),_:1})])),_:1})}const C={name:"RestaurantEntry",props:["restaurantBase"],computed:{favourites:{get(){return this.$store.state.main.favourites}},isFavourite:{get(){return this.favourites.includes(this.restaurantBase.identifier)},set(e){this.$store.dispatch("main/setFavourite",{favourite:e,restaurant:this.restaurantBase.identifier})}}},watch:{restaurantBase(){this.$store.dispatch("main/getRestaurant",this.restaurantBase.identifier).then((e=>{this.restaurantData=e.data.restaurant,this.loading=!1})).catch((()=>{this.loading=!1,this.failed=!0}))}},data(){return{dishes:null,loading:!0,failed:!1,restaurantData:{}}},mounted(){this.isFavourite=this.favourites.includes(this.restaurantBase.identifier),this.$store.dispatch("main/getRestaurant",this.restaurantBase.identifier).then((e=>{this.restaurantData=e.data.restaurant,this.loading=!1})).catch((()=>{this.loading=!1,this.failed=!0}))}};var k=s(2807),b=s(3316),R=s(4189),w=s(1363),F=s(3676),Q=s(9198),q=s(3952),B=s(3999),y=s(124),L=s(8582),I=s.n(L);const x=(0,k.A)(C,[["render",v]]),E=x;I()(C,"components",{QCard:b.A,QCardSection:R.A,QBtn:w.A,QSpace:F.A,QSpinnerDots:Q.A,QAvatar:q.A,QList:B.A,QItem:y.A});const U={name:"MenuList",components:{"res-entry":E},computed:{restaurants:{get(){return this.$store.state.main.restaurants}},favourites:{get(){return this.$store.state.main.favourites}},currentRegion:{get(){return this.$store.state.main.currentRegion}},visibleRestaurants:{get(){return this.$store.state.main.visibleRestaurants}}},data(){return{error:!1,loading:!0,constTrue:!0}},created(){this.$store.dispatch("main/getRestaurants").then((()=>this.loading=!1))}};var X=s(5173),W=s(8933);const Y=(0,k.A)(U,[["render",h]]),J=Y;I()(U,"components",{QList:B.A,QItem:y.A,QItemSection:X.A,QInnerLoading:W.A,QSpinnerDots:Q.A});const S={class:"flex justify-center"},D={ref:"map-root",style:{width:"100%",height:"50vh","max-height":"50em"}};function G(e,t,s,r,n,i){const o=(0,a.g2)("res-entry"),u=(0,a.g2)("q-card-section"),l=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("div",D,null,512),n.selectedRestaurant.length>0?((0,a.uX)(),(0,a.Wv)(o,{key:0,class:"q-my-md",restaurantBase:i.selectedRestaurantBase},null,8,["restaurantBase"])):((0,a.uX)(),(0,a.Wv)(l,{key:1,class:"q-my-md"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-center text-weight-medium"},{default:(0,a.k6)((()=>[(0,a.eW)(" Click a marker to show information about the restaurant ")])),_:1})])),_:1}))])}var O=s(5890),V=s(8442),T=s(5016),Z=s(5914),j=s(1834),z=s(9016),H=s(7050),M=s(7427),K=s(1527),P=s(3631),N=s(3508);s(210);const $={name:"MenuMap",computed:{restaurants:{get(){return this.$store.state.main.restaurants}},selectedRegion:{get(){return this.$store.state.main.currentRegion},set(e){this.$store.dispatch("main/setRegion",e)}},selectedRestaurantBase:{get(){for(let e of this.restaurants)if(e.identifier===this.selectedRestaurant)return e;return{}}},showMap:{get(){return this.$store.state.main.showMap},set(e){this.$store.dispatch("main/setShowMap",e)}},visibleRestaurants:{get(){return this.$store.state.main.visibleRestaurants}}},components:{"res-entry":E},props:{},methods:{updateResSource(){this.resSource.clear();for(let e of this.visibleRestaurants)this.resSource.addFeature(new H.A({geometry:new M.A((0,K.Rb)([e.coordinate[1],e.coordinate[0]])),name:e.identifier}))},handleMapClick(e){let t=this.resSource.getClosestFeatureToCoordinate(e.coordinate);null!==this.currRes&&this.currRes.setStyle(void 0),this.currRes=t,null!==this.currRes?(this.currRes.setStyle(new P.Ay({image:new N.A({anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",src:s(7909)})})),this.selectedRestaurant=t.get("name")):this.selectedRestaurant=""}},watch:{visibleRestaurants(){this.selectedRestaurant="",this.currRes=null,this.updateResSource(),this.resSource.getFeatures().length>0?this.mapObject.getView().fit(this.resSource.getExtent(),{padding:[70,70,70,70]}):this.mapObject.setView(new O.Ay({center:(0,K.Rb)([18.02588,59.34864]),zoom:15}))}},data(){return{mapObject:null,selectedRestaurant:"",currRes:null,resSource:null}},mounted(){this.mapObject=new V.A({target:this.$refs["map-root"],layers:[new T.A({source:new j.A})],view:new O.Ay({center:(0,K.Rb)([18.02588,59.34864]),zoom:15})}),this.resSource=new z.A({features:[]}),this.updateResSource();let e=new Z.A({source:this.resSource,style:new P.Ay({image:new N.A({anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",src:s(138)})})});this.mapObject.addLayer(e),this.resSource.getFeatures().length>0&&this.mapObject.getView().fit(this.resSource.getExtent(),{padding:[70,70,70,70]}),this.mapObject.on("click",this.handleMapClick)}},_=(0,k.A)($,[["render",G]]),ee=_;I()($,"components",{QCard:b.A,QCardSection:R.A});const te={name:"PageIndex",components:{"menu-list":J,"menu-map":ee},computed:{regionChoices:{get(){let e=[];for(let t of this.$store.state.main.restaurants)e.includes(t.region.toLowerCase())||e.push(t.region.toLowerCase());return e=e.sort(),e.forEach((function(t,s){e[s]={label:t,value:t}})),e.push({icon:"las la-heart",value:"favourites"}),e}},selectedRegion:{get(){return this.$store.state.main.currentRegion},set(e){this.$store.dispatch("main/setRegion",e).then(this.$store.dispatch("main/updateVisRes"))}},showMapList:{get(){return this.$store.state.main.showMapList},set(e){this.$store.dispatch("main/setShowMapList",e)}},restaurants:{get(){return this.$store.state.main.restaurants}}},data(){return{error:!1,loading:!0,constTrue:!0}},created(){this.$store.dispatch("main/getRestaurants").then((()=>this.loading=!1)),this.$store.dispatch("main/updateVisRes")}};var se=s(7716),ae=s(7057);const re=(0,k.A)(te,[["render",c]]),ne=re;I()(te,"components",{QPage:se.A,QBtnToggle:ae.A})},7909:e=>{e.exports="data:image/png;base64,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"},138:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAyCAYAAAA5kQlZAAAACXBIWXMAABuYAAAbmAHXYgY9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABURJREFUWIW9mN9PFFcUxz87Wyi7lYWsJqRG6TZ020CDkX+gaTCStP0H2ierD8bWRJ8laRNDbKAJpJX40IQHSGuLP4I2VGJFqNjamJqmasoPu/wQVkBBXGARd4fde/uwjNy97rIDLH6TeZi5c875zLkz5547Dtam14EPgfeAdwEf4FkemwNGgV6gB+gAHq7Rf0ZVLjuOAdLmEQN+Ad7PBsDbQOcagqc7LgP+1QI5Vhk7ADQC7lSDhmGYxcXFM263+xHA4uJi0djY2FYhRG4af0+Bw0DLakA6XC0pnszj8Uw2NDR0TU5O3pRSLsgXtTA5OXmzvr7+an5+/sNUPoCvMiTgub7WjXNzc0Nnz579VQgxmyJ4SgkhZs+cOXMlJycnlAZmVR3UjcrKynqj0eiAXQBdkUikv7S0tC8FzIF0EGXAM/XmPXv2XBdCTK0XQsnOVGVl5R8ayCLwTiqQHvXG3bt39wohHm8UQoF5vGvXLj0zXTrEB+oNLpcrFI1G+7IFYSkajd5zu91zGkyVCtKlDra1tV3NNoSlc+fOXdVAOi2IN4C4NVBYWDghpZzfLBAhxLzH41E/7Tiw0wA+AgyLqrq6uhfIT/dGb1QOhyN/OYYlg8SrwU9qqiYmJm7YfLJH9fX13T6f777P57vf0NDQLYSYtmM7Pj5+Q5ue0wB31DRJKedsQIT8fn9Acyb9fn/AJkwIEIrtPwBPrAsFBQWP7DxRa2trtw5hHc3NzVfs+Ni2bdu0YvfYALZYk1VYWDhtZ57b29u96cba2tq22vGhxfIYJFZFAKamptKtnLoW0w14vV7TjoP5+Xk11lOAflZSFBFCPMmU1oGBgWukmZr+/v7uTPZCiGkgotj1AbSqjoLBYEZHUkp58uTJTpJfOFFXV9chpRSZbMfHx/V150eAz9SLJ06c6LADIqWUoVDodmtr62/nz5/vmZmZuWXXrqam5pIGcggSDfDzJysqKhqTUkbtOl2Hol6vd0zNJFBsvSxJBWZ0dLRzsyiCwWCPlo3rsFLav1ff6CNHjthq5dajo0ePxrRLSbG3ALOsUEYjkcjdbGcjEon8C0SVOLPAa7CSkQWSu+vc2traqWxno66u7iGg1o9mlDpmaadK63Q6I6ZpBrKVDdM0R3JyctRW1CTxoQDK8g8EgR+sk3g8/urx48eHspWNmpqawaWlpTzlUgtwP939JcASy9SGYTzLRstomuaQ0+lcZCUbMbSdn6GBDJGotAAIIfKOHTv2YCOZAKiurh6Ox+Mu5dJpIJDJrhRls+1wOGILCwt31puNcDh82+FwqJv3GGm2EanUpBjKqqqqW9LGGpJCYu/evTdJLmDf2YUAKALmVQeDg4Nda6UIBAJJuwMgTOIfy5r0perE5/Pdk6k33um0WFJS8p8G8sVaIQBcgLo4yQsXLthemS9evHhZg3jAchVdjz5VnblcrvlYLDaWCcI0zZG8vLykqV32tW4ZwJ+qw3379vVkAtm/f//vGsRfvFgq1qxylCIHyOHh4evpIEZGRvQOPwZUbBTC0req8x07dgwLIUIpOOaKi4uHNJBvsgUBUABMqAEaGxvbdYpTp07pLeAEK78/s6ZP1CCGYUTC4fDfFkQ4HL7tdDrVXkMCH2cbwtLPaqCKioo+KeUzKeXT8vLyuxrEpc2CANhOcicnW1paOpqamvQpmSPR32yqDqNNkWEY6mZJAp9vNgQk6oHeiavHNbJQM+zqTbRFcflYAN56WRCWDqUAOfiyISDxG1td2C5j89f2Zmg7MAOE2OBX8soGQSZIfEWQ2AWsW/8D1+JsI31FXGoAAAAASUVORK5CYII="}}]);