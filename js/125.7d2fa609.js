(globalThis["webpackChunkmenu_aggregator"]=globalThis["webpackChunkmenu_aggregator"]||[]).push([[125],{4125:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ne});var a=s(3673),r=s(8880);const n={class:"flex justify-center"},i={key:0},o={class:"flex justify-center"},u={key:0,class:"q-my-lg q-mx-md"},l={class:"q-my-lg q-mx-md"};function c(e,t,s,c,d,h){const g=(0,a.up)("q-btn-toggle"),m=(0,a.up)("menu-map"),A=(0,a.up)("menu-list"),p=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(p,{class:"justify-center"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a.Wm)(g,{class:"q-ma-md",modelValue:h.selectedRegion,"onUpdate:modelValue":t[0]||(t[0]=e=>h.selectedRegion=e),"toggle-color":"info",options:h.regionChoices},null,8,["modelValue","options"])]),"favourites"!=h.selectedRegion?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",o,[(0,a.Wm)(g,{modelValue:h.showMapList,"onUpdate:modelValue":t[1]||(t[1]=e=>h.showMapList=e),rounded:"",unelevated:"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Map",value:"map"},{label:"List",value:"list"}]},null,8,["modelValue"])]),"map"===h.showMapList?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(m)])):(0,a.kq)("",!0),(0,a.wy)((0,a._)("div",l,[(0,a.Wm)(A)],512),[[r.F8,"list"===h.showMapList]])])):((0,a.wg)(),(0,a.j4)(A,{key:1}))])),_:1})}s(5663);const d={class:"justify-center"},h={class:"flex justify-center"};function g(e,t,s,r,n,i){const o=(0,a.up)("res-entry"),u=(0,a.up)("q-item-section"),l=(0,a.up)("q-item"),c=(0,a.up)("q-list"),g=(0,a.up)("q-spinner-dots"),m=(0,a.up)("q-inner-loading");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",h,[(0,a.Wm)(c,{class:"flex-center"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.visibleRestaurants,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.identifier},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,{restaurantBase:e},null,8,["restaurantBase"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,a.Wm)(m,{showing:n.loading},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{color:"primary",size:"2em"})])),_:1},8,["showing"])])])}var m=s(2323);const A={class:"row"},p={key:0,class:"flex justify-center"},f={key:1,class:"justify-center"};function w(e,t,s,r,n,i){const o=(0,a.up)("q-btn"),u=(0,a.up)("q-space"),l=(0,a.up)("q-spinner-dots"),c=(0,a.up)("q-avatar"),d=(0,a.up)("q-item"),h=(0,a.up)("q-list"),g=(0,a.up)("q-card-section"),w=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a._)("div",A,[(0,a.Wm)(o,{flat:"",dense:"","no-wrap":"","text-color":"info",type:"a",href:s.restaurantBase.homepage.length?s.restaurantBase.homepage:"#","icon-right":s.restaurantBase.homepage.length?"las la-external-link-alt":"",label:s.restaurantBase.name},null,8,["href","icon-right","label"]),(0,a.Wm)(u),(0,a.Wm)(o,{onClick:t[0]||(t[0]=e=>i.isFavourite=!i.isFavourite),flat:"",dense:"",round:"",color:"white","text-color":"info",icon:i.isFavourite?"las la-heart":"lar la-heart"},null,8,["icon"])]),n.loading?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(l,{color:"info",size:"2em"})])):n.failed?((0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(c,{"text-color":"negative",icon:"error"}),(0,a.Uk)(" Failed to retrieve data for "+(0,m.zw)(s.restaurantBase.name),1)])):((0,a.wg)(),(0,a.j4)(h,{key:2},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.restaurantData.menu,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e["dish"]},{default:(0,a.w5)((()=>[(0,a.Uk)((0,m.zw)(e["dish"]),1)])),_:2},1024)))),128))])),_:1}))])),_:1})])),_:1})}const v={name:"RestaurantEntry",props:["restaurantBase"],computed:{favourites:{get(){return this.$store.state.main.favourites}},isFavourite:{get(){return this.favourites.includes(this.restaurantBase.identifier)},set(e){this.$store.dispatch("main/setFavourite",{favourite:e,restaurant:this.restaurantBase.identifier})}}},watch:{restaurantBase(){this.$store.dispatch("main/getRestaurant",this.restaurantBase.identifier).then((e=>{this.restaurantData=e.data.restaurant,this.loading=!1})).catch((()=>{this.loading=!1,this.failed=!0}))}},data(){return{dishes:null,loading:!0,failed:!1,restaurantData:{}}},mounted(){this.isFavourite=this.favourites.includes(this.restaurantBase.identifier),this.$store.dispatch("main/getRestaurant",this.restaurantBase.identifier).then((e=>{this.restaurantData=e.data.restaurant,this.loading=!1})).catch((()=>{this.loading=!1,this.failed=!0}))}};var C=s(4260),R=s(151),k=s(5589),Z=s(6819),Q=s(2025),q=s(4765),B=s(5096),b=s(7011),y=s(3414),F=s(7518),I=s.n(F);const L=(0,C.Z)(v,[["render",w]]),x=L;I()(v,"components",{QCard:R.Z,QCardSection:k.Z,QBtn:Z.Z,QSpace:Q.Z,QSpinnerDots:q.Z,QAvatar:B.Z,QList:b.Z,QItem:y.Z});const U={name:"MenuList",components:{"res-entry":x},computed:{restaurants:{get(){return this.$store.state.main.restaurants}},favourites:{get(){return this.$store.state.main.favourites}},currentRegion:{get(){return this.$store.state.main.currentRegion}},visibleRestaurants:{get(){return this.$store.state.main.visibleRestaurants}}},data(){return{error:!1,loading:!0,constTrue:!0}},created(){this.$store.dispatch("main/getRestaurants").then((()=>this.loading=!1))}};var D=s(2035),W=s(2827);const Y=(0,C.Z)(U,[["render",g]]),S=Y;I()(U,"components",{QList:b.Z,QItem:y.Z,QItemSection:D.Z,QInnerLoading:W.Z,QSpinnerDots:q.Z});const J={class:"flex justify-center"},O={ref:"map-root",style:{width:"100%",height:"50vh","max-height":"50em"}};function j(e,t,s,r,n,i){const o=(0,a.up)("res-entry"),u=(0,a.up)("q-card-section"),l=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("div",O,null,512),n.selectedRestaurant.length>0?((0,a.wg)(),(0,a.j4)(o,{key:0,class:"q-my-md",restaurantBase:i.selectedRestaurantBase},null,8,["restaurantBase"])):((0,a.wg)(),(0,a.j4)(l,{key:1,class:"q-my-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"text-center text-weight-medium"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Click a marker to show information about the restaurant ")])),_:1})])),_:1}))])}var E=s(5140),G=s(6753),V=s(7879),z=s(6950),T=s(3007),H=s(5344),P=s(6783),M=s(550),X=s(5616),K=s(6945),N=s(3729);s(2167);const $={name:"MenuMap",computed:{restaurants:{get(){return this.$store.state.main.restaurants}},selectedRegion:{get(){return this.$store.state.main.currentRegion},set(e){this.$store.dispatch("main/setRegion",e)}},selectedRestaurantBase:{get(){for(let e of this.restaurants)if(e.identifier===this.selectedRestaurant)return e;return{}}},showMap:{get(){return this.$store.state.main.showMap},set(e){this.$store.dispatch("main/setShowMap",e)}},visibleRestaurants:{get(){return this.$store.state.main.visibleRestaurants}}},components:{"res-entry":x},props:{},methods:{updateResSource(){this.resSource.clear();for(let e of this.visibleRestaurants)this.resSource.addFeature(new P.Z({geometry:new M.Z((0,X.mi)([e.coordinate[1],e.coordinate[0]])),name:e.identifier}))},handleMapClick(e){let t=this.resSource.getClosestFeatureToCoordinate(e.coordinate);null!==this.currRes&&this.currRes.setStyle(void 0),this.currRes=t,null!==this.currRes?(this.currRes.setStyle(new K.ZP({image:new N.Z({anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",src:s(9421)})})),this.selectedRestaurant=t.get("name")):this.selectedRestaurant=""}},watch:{visibleRestaurants(){this.selectedRestaurant="",this.currRes=null,this.updateResSource(),this.resSource.getFeatures().length>1?this.mapObject.getView().fit(this.resSource.getExtent(),{padding:[70,70,70,70]}):1===this.resSource.getFeatures().length?this.mapObject.setView(new E.ZP({center:this.resSource.getFeatures()[0].getGeometry().getCoordinates(),zoom:17})):this.mapObject.setView(new E.ZP({center:(0,X.mi)([18.0229,59.37137]),zoom:17}))}},data(){return{mapObject:null,selectedRestaurant:"",currRes:null,resSource:null}},mounted(){this.mapObject=new G.Z({target:this.$refs["map-root"],layers:[new V.Z({source:new T.Z})],view:new E.ZP({center:(0,X.mi)([18.02588,59.34864]),zoom:15})}),this.resSource=new H.Z({features:[]}),this.updateResSource();let e=new z.Z({source:this.resSource,style:new K.ZP({image:new N.Z({anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",src:s(7003)})})});this.mapObject.addLayer(e),this.resSource.getFeatures().length>0&&this.mapObject.getView().fit(this.resSource.getExtent(),{padding:[70,70,70,70]}),this.mapObject.on("click",this.handleMapClick)}},_=(0,C.Z)($,[["render",j]]),ee=_;I()($,"components",{QCard:R.Z,QCardSection:k.Z});const te={name:"PageIndex",components:{"menu-list":S,"menu-map":ee},computed:{regionChoices:{get(){let e=[];for(let t of this.$store.state.main.restaurants)e.includes(t.region.toLowerCase())||e.push(t.region.toLowerCase());return e=e.sort(),e.forEach((function(t,s){e[s]={label:t,value:t}})),e.push({icon:"las la-heart",value:"favourites"}),e}},selectedRegion:{get(){return this.$store.state.main.currentRegion},set(e){this.$store.dispatch("main/setRegion",e).then(this.$store.dispatch("main/updateVisRes"))}},showMapList:{get(){return this.$store.state.main.showMapList},set(e){this.$store.dispatch("main/setShowMapList",e)}},restaurants:{get(){return this.$store.state.main.restaurants}}},data(){return{error:!1,loading:!0,constTrue:!0}},created(){this.$store.dispatch("main/getRestaurants").then((()=>this.loading=!1)),this.$store.dispatch("main/updateVisRes")}};var se=s(4379),ae=s(127);const re=(0,C.Z)(te,[["render",c]]),ne=re;I()(te,"components",{QPage:se.Z,QBtnToggle:ae.Z})},9421:e=>{e.exports="data:image/png;base64,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"},7003:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAyCAYAAAA5kQlZAAAACXBIWXMAABuYAAAbmAHXYgY9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABURJREFUWIW9mN9PFFcUxz87Wyi7lYWsJqRG6TZ020CDkX+gaTCStP0H2ierD8bWRJ8laRNDbKAJpJX40IQHSGuLP4I2VGJFqNjamJqmasoPu/wQVkBBXGARd4fde/uwjNy97rIDLH6TeZi5c875zLkz5547Dtam14EPgfeAdwEf4FkemwNGgV6gB+gAHq7Rf0ZVLjuOAdLmEQN+Ad7PBsDbQOcagqc7LgP+1QI5Vhk7ADQC7lSDhmGYxcXFM263+xHA4uJi0djY2FYhRG4af0+Bw0DLakA6XC0pnszj8Uw2NDR0TU5O3pRSLsgXtTA5OXmzvr7+an5+/sNUPoCvMiTgub7WjXNzc0Nnz579VQgxmyJ4SgkhZs+cOXMlJycnlAZmVR3UjcrKynqj0eiAXQBdkUikv7S0tC8FzIF0EGXAM/XmPXv2XBdCTK0XQsnOVGVl5R8ayCLwTiqQHvXG3bt39wohHm8UQoF5vGvXLj0zXTrEB+oNLpcrFI1G+7IFYSkajd5zu91zGkyVCtKlDra1tV3NNoSlc+fOXdVAOi2IN4C4NVBYWDghpZzfLBAhxLzH41E/7Tiw0wA+AgyLqrq6uhfIT/dGb1QOhyN/OYYlg8SrwU9qqiYmJm7YfLJH9fX13T6f777P57vf0NDQLYSYtmM7Pj5+Q5ue0wB31DRJKedsQIT8fn9Acyb9fn/AJkwIEIrtPwBPrAsFBQWP7DxRa2trtw5hHc3NzVfs+Ni2bdu0YvfYALZYk1VYWDhtZ57b29u96cba2tq22vGhxfIYJFZFAKamptKtnLoW0w14vV7TjoP5+Xk11lOAflZSFBFCPMmU1oGBgWukmZr+/v7uTPZCiGkgotj1AbSqjoLBYEZHUkp58uTJTpJfOFFXV9chpRSZbMfHx/V150eAz9SLJ06c6LADIqWUoVDodmtr62/nz5/vmZmZuWXXrqam5pIGcggSDfDzJysqKhqTUkbtOl2Hol6vd0zNJFBsvSxJBWZ0dLRzsyiCwWCPlo3rsFLav1ff6CNHjthq5dajo0ePxrRLSbG3ALOsUEYjkcjdbGcjEon8C0SVOLPAa7CSkQWSu+vc2traqWxno66u7iGg1o9mlDpmaadK63Q6I6ZpBrKVDdM0R3JyctRW1CTxoQDK8g8EgR+sk3g8/urx48eHspWNmpqawaWlpTzlUgtwP939JcASy9SGYTzLRstomuaQ0+lcZCUbMbSdn6GBDJGotAAIIfKOHTv2YCOZAKiurh6Ox+Mu5dJpIJDJrhRls+1wOGILCwt31puNcDh82+FwqJv3GGm2EanUpBjKqqqqW9LGGpJCYu/evTdJLmDf2YUAKALmVQeDg4Nda6UIBAJJuwMgTOIfy5r0perE5/Pdk6k33um0WFJS8p8G8sVaIQBcgLo4yQsXLthemS9evHhZg3jAchVdjz5VnblcrvlYLDaWCcI0zZG8vLykqV32tW4ZwJ+qw3379vVkAtm/f//vGsRfvFgq1qxylCIHyOHh4evpIEZGRvQOPwZUbBTC0req8x07dgwLIUIpOOaKi4uHNJBvsgUBUABMqAEaGxvbdYpTp07pLeAEK78/s6ZP1CCGYUTC4fDfFkQ4HL7tdDrVXkMCH2cbwtLPaqCKioo+KeUzKeXT8vLyuxrEpc2CANhOcicnW1paOpqamvQpmSPR32yqDqNNkWEY6mZJAp9vNgQk6oHeiavHNbJQM+zqTbRFcflYAN56WRCWDqUAOfiyISDxG1td2C5j89f2Zmg7MAOE2OBX8soGQSZIfEWQ2AWsW/8D1+JsI31FXGoAAAAASUVORK5CYII="}}]);